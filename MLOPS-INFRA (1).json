{"source":2,"revision":20,"description":null,"createdBy":{"displayName":"Allu, VikramKishore","url":"https://spsprodsin2.vssps.visualstudio.com/A3cf0f5f4-1c77-4bc8-8901-cf8314517515/_apis/Identities/bf551164-ab02-6dcf-beed-a0929eeda852","_links":{"avatar":{"href":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"}},"id":"bf551164-ab02-6dcf-beed-a0929eeda852","uniqueName":"vikram.allu@capgemini.com","imageUrl":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy","descriptor":"aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"},"createdOn":"2022-07-01T20:45:21.097Z","modifiedBy":{"displayName":"Allu, VikramKishore","url":"https://spsprodsin2.vssps.visualstudio.com/A3cf0f5f4-1c77-4bc8-8901-cf8314517515/_apis/Identities/bf551164-ab02-6dcf-beed-a0929eeda852","_links":{"avatar":{"href":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"}},"id":"bf551164-ab02-6dcf-beed-a0929eeda852","uniqueName":"vikram.allu@capgemini.com","imageUrl":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy","descriptor":"aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"},"modifiedOn":"2022-07-06T08:06:39.723Z","isDeleted":false,"lastRelease":{"id":205,"name":"Release-88","artifacts":[],"_links":{},"description":"","releaseDefinition":{"id":4,"projectReference":null,"_links":{}},"createdOn":"2022-07-06T08:07:18.847Z","createdBy":{"displayName":"Allu, VikramKishore","url":"https://spsprodsin2.vssps.visualstudio.com/A3cf0f5f4-1c77-4bc8-8901-cf8314517515/_apis/Identities/bf551164-ab02-6dcf-beed-a0929eeda852","_links":{"avatar":{"href":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"}},"id":"bf551164-ab02-6dcf-beed-a0929eeda852","uniqueName":"vikram.allu@capgemini.com","imageUrl":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy","descriptor":"aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"}},"variables":{},"variableGroups":[1],"environments":[{"id":4,"name":"Dev-Infra","rank":1,"owner":{"displayName":"Allu, VikramKishore","url":"https://spsprodsin2.vssps.visualstudio.com/A3cf0f5f4-1c77-4bc8-8901-cf8314517515/_apis/Identities/bf551164-ab02-6dcf-beed-a0929eeda852","_links":{"avatar":{"href":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"}},"id":"bf551164-ab02-6dcf-beed-a0929eeda852","uniqueName":"vikram.allu@capgemini.com","imageUrl":"https://dev.azure.com/vikramallu0127/_apis/GraphProfile/MemberAvatars/aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy","descriptor":"aad.YmY1NTExNjQtYWIwMi03ZGNmLWJlZWQtYTA5MjllZWRhODUy"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":10}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":11},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":12}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"ubuntu-latest"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"11645770-d18e-11e8-8f5b-1b8b62612b3b","version":"0.*","name":"Use Terraform latest","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"terraformVersion":"latest","downloadUrl":""}},{"environment":{},"taskId":"a8515ec8-7254-4ffd-912c-86772e2b5962","version":"5.*","name":"Replace tokens in **/*.tf","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"rootDirectory":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","targetFiles":"**/*.tf\n**/*.tfvars","encoding":"auto","tokenPattern":"azpipelines","tokenPrefix":"${","tokenSuffix":"}","writeBOM":"true","escapeType":"auto","escapeChar":"","charsToEscape":"","verbosity":"normal","actionOnMissing":"warn","keepToken":"false","actionOnNoFiles":"continue","enableTransforms":"false","transformPrefix":"(","transformSuffix":")","variableFiles":"","inlineVariables":"","variableSeparator":".","enableRecursion":"false","useLegacyPattern":"false","useLegacyEmptyFeature":"true","useDefaultValue":"false","emptyValue":"(empty)","defaultValue":"","enableTelemetry":"true"}},{"environment":{},"taskId":"721c3f90-d938-11e8-9d92-09d7594721b5","version":"0.*","name":"Terraform Init","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"command":"init","workingDirectory":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","environmentServiceName":"","providerAzureRmSubscriptionId":"","runAzLogin":"false","secureVarsFile":"","workspaceSubCommand":"select","stateSubCommand":"list","commandOptions":"","backendType":"azurerm","backendServiceArm":"61b3e7fd-14e0-4b6c-98d5-b4c6059c75f0","backendAzureRmSubscriptionId":"d6014779-aa16-43ea-b550-715da415ecdc","ensureBackend":"true","backendAzureRmResourceGroupName":"rg-Terraform-infra-ml","backendAzureRmResourceGroupLocation":"East Asia","backendAzureRmStorageAccountName":"rgstorageaccountml","backendAzureRmStorageAccountSku":"Standard_RAGRS","backendAzureRmContainerName":"core-tfstate","backendAzureRmKey":"wdDCBk8WH9akKcU6KXhOKUbh67IEtm4cEB2acMiKhvTIb665btpeEN9sCH2P7QZCQUVMYBGMAm0++AStK5zPWg==","aiInstrumentationKey":"88308046-7db8-45dd-bde7-0b4b5642a773","allowTelemetryCollection":"true","inputTargetPlanOrStateFilePath":"","resourceAddress":"","resourceId":"","lockID":"","publishPlanResults":"","workspaceName":"","skipExistingWorkspace":"false","stateMoveSource":"","stateMoveDestination":"","stateAddresses":"","backendServiceAws":"","backendAwsRegion":"","backendAwsBucket":"","backendAwsKey":"","providerServiceAws":"","providerAwsRegion":"","backendGcsCredentials":"","backendGcsBucket":"","backendGcsPrefix":"","providerGoogleCredentials":"","providerGoogleProject":"","providerGoogleRegion":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"2.*","name":"Azure CLI ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"61b3e7fd-14e0-4b6c-98d5-b4c6059c75f0","scriptType":"bash","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"\naz extension add -n azure-cli-ml","scriptArguments":"","powerShellErrorActionPreference":"stop","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"","failOnStandardError":"false","powerShellIgnoreLASTEXITCODE":"false"}},{"environment":{},"taskId":"721c3f90-d938-11e8-9d92-09d7594721b5","version":"0.*","name":"terraform plan","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"command":"plan","workingDirectory":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","environmentServiceName":"","providerAzureRmSubscriptionId":"","runAzLogin":"false","secureVarsFile":"","workspaceSubCommand":"select","stateSubCommand":"list","commandOptions":"","backendType":"local","backendServiceArm":"","backendAzureRmSubscriptionId":"","ensureBackend":"false","backendAzureRmResourceGroupName":"","backendAzureRmResourceGroupLocation":"","backendAzureRmStorageAccountName":"","backendAzureRmStorageAccountSku":"Standard_RAGRS","backendAzureRmContainerName":"","backendAzureRmKey":"","aiInstrumentationKey":"88308046-7db8-45dd-bde7-0b4b5642a773","allowTelemetryCollection":"true","inputTargetPlanOrStateFilePath":"","resourceAddress":"","resourceId":"","lockID":"","publishPlanResults":"","workspaceName":"","skipExistingWorkspace":"false","stateMoveSource":"","stateMoveDestination":"","stateAddresses":"","backendServiceAws":"","backendAwsRegion":"","backendAwsBucket":"","backendAwsKey":"","providerServiceAws":"","providerAwsRegion":"","backendGcsCredentials":"","backendGcsBucket":"","backendGcsPrefix":"","providerGoogleCredentials":"","providerGoogleProject":"","providerGoogleRegion":""}},{"environment":{},"taskId":"721c3f90-d938-11e8-9d92-09d7594721b5","version":"0.*","name":"terraform apply","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"command":"apply","workingDirectory":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","environmentServiceName":"","providerAzureRmSubscriptionId":"","runAzLogin":"false","secureVarsFile":"","workspaceSubCommand":"select","stateSubCommand":"list","commandOptions":"","backendType":"local","backendServiceArm":"","backendAzureRmSubscriptionId":"","ensureBackend":"false","backendAzureRmResourceGroupName":"","backendAzureRmResourceGroupLocation":"","backendAzureRmStorageAccountName":"","backendAzureRmStorageAccountSku":"Standard_RAGRS","backendAzureRmContainerName":"","backendAzureRmKey":"","aiInstrumentationKey":"88308046-7db8-45dd-bde7-0b4b5642a773","allowTelemetryCollection":"true","inputTargetPlanOrStateFilePath":"","resourceAddress":"","resourceId":"","lockID":"","publishPlanResults":"","workspaceName":"","skipExistingWorkspace":"false","stateMoveSource":"","stateMoveDestination":"","stateAddresses":"","backendServiceAws":"","backendAwsRegion":"","backendAwsBucket":"","backendAwsKey":"","providerServiceAws":"","providerAwsRegion":"","backendGcsCredentials":"","backendGcsBucket":"","backendGcsPrefix":"","providerGoogleCredentials":"","providerGoogleProject":"","providerGoogleRegion":""}},{"environment":{},"taskId":"721c3f90-d938-11e8-9d92-09d7594721b5","version":"0.*","name":"terraform output","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"command":"output","workingDirectory":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","environmentServiceName":"","providerAzureRmSubscriptionId":"","runAzLogin":"false","secureVarsFile":"","workspaceSubCommand":"select","stateSubCommand":"list","commandOptions":"","backendType":"local","backendServiceArm":"","backendAzureRmSubscriptionId":"","ensureBackend":"false","backendAzureRmResourceGroupName":"","backendAzureRmResourceGroupLocation":"","backendAzureRmStorageAccountName":"","backendAzureRmStorageAccountSku":"Standard_RAGRS","backendAzureRmContainerName":"","backendAzureRmKey":"","aiInstrumentationKey":"88308046-7db8-45dd-bde7-0b4b5642a773","allowTelemetryCollection":"true","inputTargetPlanOrStateFilePath":"","resourceAddress":"","resourceId":"","lockID":"","publishPlanResults":"","workspaceName":"","skipExistingWorkspace":"false","stateMoveSource":"","stateMoveDestination":"","stateAddresses":"","backendServiceAws":"","backendAwsRegion":"","backendAwsBucket":"","backendAwsKey":"","providerServiceAws":"","providerAwsRegion":"","backendGcsCredentials":"","backendGcsBucket":"","backendGcsPrefix":"","providerGoogleCredentials":"","providerGoogleProject":"","providerGoogleRegion":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"2.*","name":"Azure CLI ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"61b3e7fd-14e0-4b6c-98d5-b4c6059c75f0","scriptType":"pscore","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"terraform output -json > output.json","scriptArguments":"","powerShellErrorActionPreference":"stop","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","failOnStandardError":"false","powerShellIgnoreLASTEXITCODE":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"2.*","name":"Azure CLI ","refName":"terraformOutput","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"61b3e7fd-14e0-4b6c-98d5-b4c6059c75f0","scriptType":"pscore","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"$file = Get-Content -Path '$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraformoutput.json'\n     Write-Host 'File Content:'\n     Write-Host $file\n     \n     Write-Host \"Convert terrafrom output from $jsonPath to devops vars.\"\n     \n$json = $file | ConvertFrom-Json\n     Write-Host \"Json Object:\"\n     Write-Host $json\n     Write-Host $(terraform_state_resource_group_name)\n     Write-Host $($json.terraform_state_resource_group_name.value)\n\n    Write-Host \"##vso[task.setvariable variable=terraform_state_resource_group_name;]$($json.terraform_state_resource_group_name.value)\"\n Write-Host $(terraform_state_resource_group_name)","scriptArguments":"","powerShellErrorActionPreference":"stop","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)/_MLOPS-TERRAFORM.git (1)/drop/Terraform","failOnStandardError":"false","powerShellIgnoreLASTEXITCODE":"false"}},{"environment":{},"taskId":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","version":"3.*","name":"Display Resources","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"inline","filePath":"","arguments":"","script":"# Write your commands here\n\necho 'Hello world'\necho $(terraform_state_resource_group_name)\n","workingDirectory":"","failOnStderr":"false","bashEnvValue":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":205,"url":"https://vsrm.dev.azure.com/vikramallu0127/1f6e2d07-acb6-4757-91b3-6cb4f4cc4148/_apis/Release/releases/205","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/vikramallu0127/_apis/public/Release/badge/1f6e2d07-acb6-4757-91b3-6cb4f4cc4148/4/4"}],"artifacts":[{"sourceId":"1f6e2d07-acb6-4757-91b3-6cb4f4cc4148:6","type":"Build","alias":"_MLOPS-TERRAFORM.git (1)","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://dev.azure.com/vikramallu0127/_permalink/_build/index?collectionId=4553e5e5-6553-4f87-b98a-54493077ce2a&projectId=1f6e2d07-acb6-4757-91b3-6cb4f4cc4148&definitionId=6","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"6","name":"MLOPS-TERRAFORM.git (1)"},"definitions":{"id":"","name":""},"IsMultiDefinitionType":{"id":"False","name":"False"},"project":{"id":"1f6e2d07-acb6-4757-91b3-6cb4f4cc4148","name":"MLOPS"},"repository":{"id":"","name":""}},"isPrimary":true,"isRetained":false}],"triggers":[],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"}},"id":4,"name":"MLOPS-INFRA","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/vikramallu0127/1f6e2d07-acb6-4757-91b3-6cb4f4cc4148/_apis/Release/definitions/4","_links":{"self":{"href":"https://vsrm.dev.azure.com/vikramallu0127/1f6e2d07-acb6-4757-91b3-6cb4f4cc4148/_apis/Release/definitions/4"},"web":{"href":"https://dev.azure.com/vikramallu0127/1f6e2d07-acb6-4757-91b3-6cb4f4cc4148/_release?definitionId=4"}}}